package lib.___exploit___;

import net.minecraft.block.Block;
import net.minecraft.creativetab.CreativeTabs;
import net.minecraft.item.Item;
import net.minecraft.item.ItemBlock;

import java.util.ArrayList;
import java.util.Collection;
import java.util.Collections;

public class ModRegistry {
    private final String ID;
    private final CreativeTabs TAB;

    private final ArrayList<Item> autoItemBlock = new ArrayList<>();
    private final ArrayList<Item> autoModel = new ArrayList<>();

    public ModRegistry(String id, CreativeTabs tab) {
        ID = id;
        TAB = tab;
    }

    /**
     * @return block with id and tab set
     */
    public <T extends Block> T registerBlock(String id, T block, boolean autoModel) {
        block.setRegistryName(ID + ":" + id).setUnlocalizedName(ID + "." + id).setCreativeTab(TAB);
        Item itemBlock = new ItemBlock(block).setRegistryName(ID + ":" + id);
        autoItemBlock.add(itemBlock);
        if (autoModel) {
            this.autoModel.add(itemBlock);
        }
        return block;
    }

    /**
     * @return item with id and tab set
     */
    public <T extends Item> T registerItem(String id, T item, boolean autoModel) {
        item.setRegistryName(ID + ":" + id).setUnlocalizedName(ID + "." + id).setCreativeTab(TAB);
        if (autoModel) {
            this.autoModel.add(item);
        }
        return item;
    }

    /**
     * @return unmodifiable collection of auto item blocks
     */
    public Collection<Item> getAutoItemBlock() {
        return Collections.unmodifiableCollection(autoItemBlock);
    }

    /**
     * @return unmodifiable collection of auto models
     */
    public Collection<Item> getAutoModel() {
        return Collections.unmodifiableCollection(autoModel);
    }
}
